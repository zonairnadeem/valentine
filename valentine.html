<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Surprise</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins", sans-serif; }
html, body { height:100%; width:100%; overflow:hidden; background:#fff0f6; }

/* Slideshow background */
#slideshow {
  position:fixed;
  inset:0;
  z-index:0;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition: opacity 0.5s ease-in-out;
}

/* Splash page */
#splash {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  width:100vw;
  text-align:center;
  z-index:5;
  position:relative;
}
#splash h1 { margin-bottom:80px; font-size:3rem; color:#1f1f1f; }
#enterBtn {
  padding:16px 50px;
  font-size:1.3rem;
  border:none;
  border-radius:50px;
  background:linear-gradient(135deg,#ff5c8a,#ff2e63);
  color:white;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(255,92,138,0.45);
  transition: transform 0.25s, box-shadow 0.25s;
  z-index:5;
  position:relative;
}
#enterBtn:hover { transform:translateY(-2px); box-shadow:0 18px 40px rgba(255,92,138,0.6); }

/* Card page */
#card {
  display:none;
  position:relative;
  height:100vh;
  width:100vw;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:2;
}
#card h1 { font-size:2.4rem; margin-bottom:36px; color:#1f1f1f; }

/* Yes button container */
#yesContainer {
  position:relative;
  z-index:10; /* higher than No button */
}

/* Yes button */
#yesBtn {
  padding:16px 50px;
  background: linear-gradient(135deg,#ff5c8a,#ff2e63);
  color:white;
  border:none;
  border-radius:50px;
  cursor:pointer;
  box-shadow:0 18px 40px rgba(255,92,138,0.45);
}
#yesBtn:hover { transform:translateY(-2px); box-shadow:0 24px 55px rgba(255,92,138,0.6); }

/* NO button outside card */
#noBtn {
  padding:16px 50px;
  background:#f2f2f2;
  color:#555;
  border:none;
  border-radius:50px;
  cursor:pointer;
  position:absolute;
  display:none;
  z-index:5;
}

/* Celebration page */
#celebration {
  display:none;
  position:fixed;
  inset:0;
  z-index:3;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

/* Particles */
.heart,.confetti {
  position: fixed;
  bottom:-60px;
  pointer-events:none;
  animation: floatUp linear forwards;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,0.25));
  z-index:4;
}
@keyframes floatUp {0%{transform:translateY(0) scale(0.9);opacity:0;}10%{opacity:1;}100%{transform:translateY(-120vh) scale(1.8);opacity:0;}}
</style>
</head>
<body>

<div id="slideshow"></div>

<!-- Splash -->
<div id="splash">
  <h1>A little surprise for someone special‚Ä¶ üíñ</h1>
  <button id="enterBtn">ENTER</button>
</div>

<!-- Card -->
<div id="card">
  <h1>Will you be my Valentine?</h1>
  <div id="yesContainer">
    <button id="yesBtn">Yes</button>
  </div>
</div>

<!-- NO button outside card -->
<button id="noBtn">No</button>

<!-- Celebration -->
<div id="celebration"></div>

<!-- Audio -->
<audio id="song1" src="song1.mp3" preload="auto"></audio>
<audio id="song2" src="song2.mp3" preload="auto"></audio>
<audio id="song3" src="song3.mp3" preload="auto"></audio>

<script>
const splash = document.getElementById("splash");
const enterBtn = document.getElementById("enterBtn");
const card = document.getElementById("card");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const celebration = document.getElementById("celebration");
const slideshow = document.getElementById("slideshow");

const song1 = document.getElementById("song1");
const song2 = document.getElementById("song2");
const song3 = document.getElementById("song3");

const images = ['img1.jpg','img2.jpg','img3.jpg','img4.jpg','img5.jpg','img6.jpg','img7.jpg','img8.jpg','img9.jpg','img10.jpg'];
let current = 0;

// --- ENTER BUTTON ---
enterBtn.addEventListener("click", () => {
  splash.style.display = "none";
  card.style.display = "flex";

  noBtn.style.display = "block";

  // place No button near Yes with enough offset
  const yesRect = yesBtn.getBoundingClientRect();
  noBtn.style.left = yesRect.right + 80 + "px"; // bigger offset to prevent overlap
  noBtn.style.top = yesRect.top + "px";

  song2.loop = true;
  song2.volume = 0.5;
  song2.play().catch(()=>{});
});

// --- NO BUTTON HOP ---
let hopInProgress=false;
function hop() {
  if(hopInProgress) return;
  hopInProgress=true;

  const padding = 10;
  const maxX = window.innerWidth - noBtn.offsetWidth - padding;
  const maxY = window.innerHeight - noBtn.offsetHeight - padding;

  const yesRect = yesBtn.getBoundingClientRect();
  let x, y, tries=0;
  do{
    x = Math.random()*maxX;
    y = Math.random()*maxY;
    tries++;
    if(tries>100) break;
  } while(
    x < yesRect.right + 10 &&
    x + noBtn.offsetWidth > yesRect.left - 10 &&
    y < yesRect.bottom + 10 &&
    y + noBtn.offsetHeight > yesRect.top - 10
  );

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  // Play song1
  song2.pause();
  song3.pause();
  song1.currentTime=0;
  song1.play();

  setTimeout(()=>hopInProgress=false,200);
}
noBtn.addEventListener("mouseenter", hop);
noBtn.addEventListener("touchstart", hop);

// --- YES BUTTON ---
yesBtn.addEventListener("click", ()=>{
  card.style.display="none";
  noBtn.style.display="none"; // hide No during celebration
  celebration.style.display="flex";

  song1.pause();
  song2.pause();
  song3.currentTime=0;
  song3.play();

  startParticles();
  startSlideshow();
});

// --- PARTICLES ---
function startParticles(){
  setInterval(()=>{
    const symbols=["üíñ","üåπ","‚ú®","üíê","üéâ"];
    const elem=document.createElement("div");
    elem.className=Math.random()<0.5?"heart":"confetti";
    elem.textContent=symbols[Math.floor(Math.random()*symbols.length)];
    elem.style.left=Math.random()*100+"vw";
    elem.style.fontSize=18 + Math.random()*18 + "px";
    elem.style.animationDuration = 4+Math.random()*3+"s";
    document.body.appendChild(elem);
    setTimeout(()=>elem.remove(),9000);
  },200);
}

// --- SLIDESHOW ---
function startSlideshow(){
  slideshow.style.zIndex=1;
  slideshow.style.opacity=1;
  slideshow.style.backgroundImage=`url(${images[current]})`;

  function nextSlide(){
    current = (current + 1) % images.length;
    const nextImage = images[current];
    slideshow.style.transition='opacity 0.5s ease-in-out';
    slideshow.style.opacity=0;

    setTimeout(()=>{
      slideshow.style.backgroundImage=`url(${nextImage})`;
      slideshow.style.opacity=1;
    },250);

    setTimeout(nextSlide,3000);
  }
  setTimeout(nextSlide,3000);
}
</script>
</body>
</html>
